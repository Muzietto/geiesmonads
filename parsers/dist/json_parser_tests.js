define(['chai', 'json_parsers', 'classes'], function (_chai, _json_parsers, _classes) {
    'use strict';

    var text = _classes.Position.fromText;

    describe('building a JSON parser', function () {
        describe('a parser for JNull\'s', function () {
            it('parses the string \'null\' and returns a JValue.JNull', function () {
                var run = _json_parsers.JNullP.run('null');
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJNull).to.be.true;
                (0, _chai.expect)(_json_parsers.JNullP.run('nulx').isFailure).to.be.true;
            });
        });
        describe('a parser for JBool\'s', function () {
            it('parses the string \'true\' and returns a JValue.JBool(true)', function () {
                var run = _json_parsers.JBoolP.run('true');
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJBool).to.be.true;
                (0, _chai.expect)(run.value[0].value).to.be.true;
            });
            it('parses the string \'false\' and returns a JValue.JBool(false)', function () {
                var run = _json_parsers.JBoolP.run('false');
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJBool).to.be.true;
                (0, _chai.expect)(run.value[0].value).to.be.false;
            });
            it('fails to parse anything else', function () {
                (0, _chai.expect)(_json_parsers.JBoolP.run('trux').isFailure).to.be.true;
            });
        });
        describe('a parser for JSON unescaped chars', function () {
            it('parses an unescaped character and returns a Success', function () {
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('a')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('A')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('1')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('"')).isFailure).to.be.true;
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('\\')).isFailure).to.be.true;
            });
        });
        describe('a parser for JSON escaped chars', function () {
            it('parses an escaped character and returns a Success', function () {
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('\b')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('\f')).isSuccess).to.be.true;
                //            expect(jEscapedCharP.run(text('\n')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('\r')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('\t')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('a')).isFailure).to.be.true;
            });
        });
        describe('a parser for escaped 4-digits unicode chars', function () {
            it('parses an escaped character and returns a Success', function () {
                var run = _json_parsers.jUnicodeCharP.run(text('\\u1a2e'));
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0]).to.be.eql(6702);
                (0, _chai.expect)(_json_parsers.jUnicodeCharP.run(text('\\u0010')).value[0]).to.be.eql(16);
                (0, _chai.expect)(_json_parsers.jUnicodeCharP.run(text('\\u000F')).value[0]).to.be.eql(15);
            });
        });
        describe('a parser for doublequoted JSON strings', function () {
            it('parses a lot of characters and returns a JValue.JString', function () {
                var run = _json_parsers.JStringP.run(text('\"test string\"')); // works also with unescaped doublequotes
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJString).to.be.true;
                (0, _chai.expect)(run.value[0].value).to.be.eql('test string');
            });
            it('handles unicodes very roughly, and no escaped chars yet...', function () {
                var run = _json_parsers.JStringP.run(text('"test \\u0010 string"'));
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJString).to.be.true;
                (0, _chai.expect)(run.value[0].value).to.be.eql('test 16 string');
            });
        });
        describe('a parser for numbers inside JSON files', function () {
            it('parses strings and returns Success\'es', function () {
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('0')).value[0]).to.be.eql('0');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('0.1')).value[0]).to.be.eql('0.1');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-0')).value[0]).to.be.eql('-0');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-0.1')).value[0]).to.be.eql('-0.1');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('0.1234e145')).value[0]).to.be.eql('0.1234e145');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-0.1234e-145')).value[0]).to.be.eql('-0.1234e-145');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('123')).value[0]).to.be.eql('123');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('123.12')).value[0]).to.be.eql('123.12');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123')).value[0]).to.be.eql('-123');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123.12')).value[0]).to.be.eql('-123.12');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('123e2')).value[0]).to.be.eql('123e2');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123e2')).value[0]).to.be.eql('-123e2');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123e-2')).value[0]).to.be.eql('-123e-2');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123.234e-2')).value[0]).to.be.eql('-123.234e-2');
            });
            it('parses strings and returns JNumber\'s', function () {
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('0')).value[0].value).to.be.eql(0);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('0.1')).value[0].value).to.be.eql(0.1);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-0')).value[0].value).to.be.eql(-0);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-0.1')).value[0].value).to.be.eql(-0.1);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('0.1234e145')).value[0].value).to.be.eql(0.1234e145);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-0.1234e-145')).value[0].value).to.be.eql(-0.1234e-145);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('123')).value[0].value).to.be.eql(123);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('123.12')).value[0].value).to.be.eql(123.12);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123')).value[0].value).to.be.eql(-123);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123.12')).value[0].value).to.be.eql(-123.12);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('123e2')).value[0].value).to.be.eql(123e2);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123e2')).value[0].value).to.be.eql(-123e2);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123e-2')).value[0].value).to.be.eql(-123e-2);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123.234e-2')).value[0].value).to.be.eql(-123.234e-2);
            });
        });
        describe('a parser for arrays discards square brackets', function () {
            describe('and distills into JValue.JArray\'s', function () {
                it('nothing if that\'s the case', function () {
                    var jarra = '[]';
                    var run = _json_parsers.JArrayP.run(text(jarra));
                    (0, _chai.expect)(run.isSuccess).to.be.true;
                    (0, _chai.expect)(run.value[0].isJArray).to.be.true;
                });
                it('nulls and bools', function () {
                    var jarra = '[true ,   false , null,      true]';
                    var run = _json_parsers.JArrayP.run(text(jarra));
                    (0, _chai.expect)(run.isSuccess).to.be.true;
                    (0, _chai.expect)(run.value[0].isJArray).to.be.true;
                });
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2pzLXNwZWMvanNvbl9wYXJzZXJfdGVzdHMuanMiXSwibmFtZXMiOlsidGV4dCIsIlBvc2l0aW9uIiwiZnJvbVRleHQiLCJkZXNjcmliZSIsIml0IiwicnVuIiwiSk51bGxQIiwiaXNTdWNjZXNzIiwidG8iLCJiZSIsInRydWUiLCJ2YWx1ZSIsImlzSk51bGwiLCJpc0ZhaWx1cmUiLCJKQm9vbFAiLCJpc0pCb29sIiwiZmFsc2UiLCJqVW5lc2NhcGVkQ2hhclAiLCJqRXNjYXBlZENoYXJQIiwialVuaWNvZGVDaGFyUCIsImVxbCIsIkpTdHJpbmdQIiwiaXNKU3RyaW5nIiwiak51bWJlclN0cmluZ1AiLCJKTnVtYmVyUCIsImphcnJhIiwiSkFycmF5UCIsImlzSkFycmF5Il0sIm1hcHBpbmdzIjoiOzs7QUFnQkEsUUFBTUEsT0FBT0Msa0JBQVNDLFFBQXRCOztBQUVBQyxhQUFTLHdCQUFULEVBQW1DLFlBQU07QUFDckNBLGlCQUFTLHVCQUFULEVBQWtDLFlBQU07QUFDcENDLGVBQUcsdURBQUgsRUFBNEQsWUFBTTtBQUM5RCxvQkFBTUMsTUFBTUMscUJBQU9ELEdBQVAsQ0FBVyxNQUFYLENBQVo7QUFDQSxrQ0FBT0EsSUFBSUUsU0FBWCxFQUFzQkMsRUFBdEIsQ0FBeUJDLEVBQXpCLENBQTRCQyxJQUE1QjtBQUNBLGtDQUFPTCxJQUFJTSxLQUFKLENBQVUsQ0FBVixFQUFhQyxPQUFwQixFQUE2QkosRUFBN0IsQ0FBZ0NDLEVBQWhDLENBQW1DQyxJQUFuQztBQUNBLGtDQUFPSixxQkFBT0QsR0FBUCxDQUFXLE1BQVgsRUFBbUJRLFNBQTFCLEVBQXFDTCxFQUFyQyxDQUF3Q0MsRUFBeEMsQ0FBMkNDLElBQTNDO0FBQ0gsYUFMRDtBQU1ILFNBUEQ7QUFRQVAsaUJBQVMsdUJBQVQsRUFBa0MsWUFBTTtBQUNwQ0MsZUFBRyw2REFBSCxFQUFrRSxZQUFNO0FBQ3BFLG9CQUFNQyxNQUFNUyxxQkFBT1QsR0FBUCxDQUFXLE1BQVgsQ0FBWjtBQUNBLGtDQUFPQSxJ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LEVBQXpCLENBQTRCQyxJQUE1QjtBQUNBLHNDQUFPTCxJQUFJTSxLQUFKLENBQVUsQ0FBVixFQUFhZ0IsUUFBcEIsRUFBOEJuQixFQUE5QixDQUFpQ0MsRUFBakMsQ0FBb0NDLElBQXBDO0FBQ0gsaUJBTEQ7QUFNQU4sbUJBQUcsaUJBQUgsRUFBc0IsWUFBTTtBQUN4Qix3QkFBTXFCLFFBQVEsb0NBQWQ7QUFDQSx3QkFBTXBCLE1BQU1xQixzQkFBUXJCLEdBQVIsQ0FBWUwsS0FBS3lCLEtBQUwsQ0FBWixDQUFaO0FBQ0Esc0NBQU9wQixJQUFJRSxTQUFYLEVBQXNCQyxFQUF0QixDQUF5QkMsRUFBekIsQ0FBNEJDLElBQTVCO0FBQ0Esc0NBQU9MLElBQUlNLEtBQUosQ0FBVSxDQUFWLEVBQWFnQixRQUFwQixFQUE4Qm5CLEVBQTlCLENBQWlDQyxFQUFqQyxDQUFvQ0MsSUFBcEM7QUFDSCxpQkFMRDtBQU1ILGFBYkQ7QUFjSCxTQWZEO0FBZ0JILEtBdEhEIiwiZmlsZSI6Impzb25fcGFyc2VyX3Rlc3RzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtleHBlY3R9IGZyb20gJ2NoYWknO1xuaW1wb3J0IHtcbiAgICBKTnVsbFAsXG4gICAgSkJvb2xQLFxuICAgIGpVbmVzY2FwZWRDaGFyUCxcbiAgICBqRXNjYXBlZENoYXJQLFxuICAgIGpVbmljb2RlQ2hhclAsXG4gICAgSlN0cmluZ1AsXG4gICAgak51bWJlclN0cmluZ1AsXG4gICAgSk51bWJlclAsXG4gICAgSkFycmF5UCxcbn0gZnJvbSAnanNvbl9wYXJzZXJzJztcbmltcG9ydCB7XG4gICAgUG9zaXRpb24sXG59IGZyb20gJ2NsYXNzZXMnO1xuXG5jb25zdCB0ZXh0ID0gUG9zaXRpb24uZnJvbVRleHQ7XG5cbmRlc2NyaWJlKCdidWlsZGluZyBhIEpTT04gcGFyc2VyJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCdhIHBhcnNlciBmb3IgSk51bGxcXCdzJywgKCkgPT4ge1xuICAgICAgICBpdCgncGFyc2VzIHRoZSBzdHJpbmcgXFwnbnVsbFxcJyBhbmQgcmV0dXJucyBhIEpWYWx1ZS5KTnVsbCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJ1biA9IEpOdWxsUC5ydW4oJ251bGwnKTtcbiAgICAgICAgICAgIGV4cGVjdChydW4uaXNTdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXS5pc0pOdWxsKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KEpOdWxsUC5ydW4oJ251bHgnKS5pc0ZhaWx1cmUpLnRvLmJlLnRydWU7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKCdhIHBhcnNlciBmb3IgSkJvb2xcXCdzJywgKCkgPT4ge1xuICAgICAgICBpdCgncGFyc2VzIHRoZSBzdHJpbmcgXFwndHJ1ZVxcJyBhbmQgcmV0dXJucyBhIEpWYWx1ZS5KQm9vbCh0cnVlKScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJ1biA9IEpCb29sUC5ydW4oJ3RydWUnKTtcbiAgICAgICAgICAgIGV4cGVjdChydW4uaXNTdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXS5pc0pCb29sKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXS52YWx1ZSkudG8uYmUudHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdwYXJzZXMgdGhlIHN0cmluZyBcXCdmYWxzZVxcJyBhbmQgcmV0dXJucyBhIEpWYWx1ZS5KQm9vbChmYWxzZSknLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW4gPSBKQm9vbFAucnVuKCdmYWxzZScpO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QocnVuLnZhbHVlWzBdLmlzSkJvb2wpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QocnVuLnZhbHVlWzBdLnZhbHVlKS50by5iZS5mYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdmYWlscyB0byBwYXJzZSBhbnl0aGluZyBlbHNlJywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KEpCb29sUC5ydW4oJ3RydXgnKS5pc0ZhaWx1cmUpLnRvLmJlLnRydWU7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKCdhIHBhcnNlciBmb3IgSlNPTiB1bmVzY2FwZWQgY2hhcnMnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdwYXJzZXMgYW4gdW5lc2NhcGVkIGNoYXJhY3RlciBhbmQgcmV0dXJucyBhIFN1Y2Nlc3MnLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoalVuZXNjYXBlZENoYXJQLnJ1bih0ZXh0KCdhJykpLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChqVW5lc2NhcGVkQ2hhclAucnVuKHRleHQoJ0EnKSkuaXNTdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KGpVbmVzY2FwZWRDaGFyUC5ydW4odGV4dCgnMScpKS5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QoalVuZXNjYXBlZENoYXJQLnJ1bih0ZXh0KCdcIicpKS5pc0ZhaWx1cmUpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QoalVuZXNjYXBlZENoYXJQLnJ1bih0ZXh0KCdcXFxcJykpLmlzRmFpbHVyZSkudG8uYmUudHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgZGVzY3JpYmUoJ2EgcGFyc2VyIGZvciBKU09OIGVzY2FwZWQgY2hhcnMnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdwYXJzZXMgYW4gZXNjYXBlZCBjaGFyYWN0ZXIgYW5kIHJldHVybnMgYSBTdWNjZXNzJywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGpFc2NhcGVkQ2hhclAucnVuKHRleHQoJ1xcYicpKS5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QoakVzY2FwZWRDaGFyUC5ydW4odGV4dCgnXFxmJykpLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbi8vICAgICAgICAgICAgZXhwZWN0KGpFc2NhcGVkQ2hhclAucnVuKHRleHQoJ1xcbicpKS5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QoakVzY2FwZWRDaGFyUC5ydW4odGV4dCgnXFxyJykpLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChqRXNjYXBlZENoYXJQLnJ1bih0ZXh0KCdcXHQnKSkuaXNTdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KGpFc2NhcGVkQ2hhclAucnVuKHRleHQoJ2EnKSkuaXNGYWlsdXJlKS50by5iZS50cnVlO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZSgnYSBwYXJzZXIgZm9yIGVzY2FwZWQgNC1kaWdpdHMgdW5pY29kZSBjaGFycycsICgpID0+IHtcbiAgICAgICAgaXQoJ3BhcnNlcyBhbiBlc2NhcGVkIGNoYXJhY3RlciBhbmQgcmV0dXJucyBhIFN1Y2Nlc3MnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW4gPSBqVW5pY29kZUNoYXJQLnJ1bih0ZXh0KCdcXFxcdTFhMmUnKSk7XG4gICAgICAgICAgICBleHBlY3QocnVuLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChydW4udmFsdWVbMF0pLnRvLmJlLmVxbCg2NzAyKTtcbiAgICAgICAgICAgIGV4cGVjdChqVW5pY29kZUNoYXJQLnJ1bih0ZXh0KCdcXFxcdTAwMTAnKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgxNik7XG4gICAgICAgICAgICBleHBlY3QoalVuaWNvZGVDaGFyUC5ydW4odGV4dCgnXFxcXHUwMDBGJykpLnZhbHVlWzBdKS50by5iZS5lcWwoMTUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZSgnYSBwYXJzZXIgZm9yIGRvdWJsZXF1b3RlZCBKU09OIHN0cmluZ3MnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdwYXJzZXMgYSBsb3Qgb2YgY2hhcmFjdGVycyBhbmQgcmV0dXJucyBhIEpWYWx1ZS5KU3RyaW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcnVuID0gSlN0cmluZ1AucnVuKHRleHQoJ1xcXCJ0ZXN0IHN0cmluZ1xcXCInKSk7IC8vIHdvcmtzIGFsc28gd2l0aCB1bmVzY2FwZWQgZG91YmxlcXVvdGVzXG4gICAgICAgICAgICBleHBlY3QocnVuLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChydW4udmFsdWVbMF0uaXNKU3RyaW5nKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXS52YWx1ZSkudG8uYmUuZXFsKCd0ZXN0IHN0cmluZycpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ2hhbmRsZXMgdW5pY29kZXMgdmVyeSByb3VnaGx5LCBhbmQgbm8gZXNjYXBlZCBjaGFycyB5ZXQuLi4nLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW4gPSBKU3RyaW5nUC5ydW4odGV4dCgnXFxcInRlc3QgXFxcXHUwMDEwIHN0cmluZ1xcXCInKSk7XG4gICAgICAgICAgICBleHBlY3QocnVuLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChydW4udmFsdWVbMF0uaXNKU3RyaW5nKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXS52YWx1ZSkudG8uYmUuZXFsKCd0ZXN0IDE2IHN0cmluZycpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZSgnYSBwYXJzZXIgZm9yIG51bWJlcnMgaW5zaWRlIEpTT04gZmlsZXMnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdwYXJzZXMgc3RyaW5ncyBhbmQgcmV0dXJucyBTdWNjZXNzXFwnZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJzAnKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnMCcpO1xuICAgICAgICAgICAgZXhwZWN0KGpOdW1iZXJTdHJpbmdQLnJ1bih0ZXh0KCcwLjEnKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnMC4xJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJy0wJykpLnZhbHVlWzBdKS50by5iZS5lcWwoJy0wJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJy0wLjEnKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnLTAuMScpO1xuICAgICAgICAgICAgZXhwZWN0KGpOdW1iZXJTdHJpbmdQLnJ1bih0ZXh0KCcwLjEyMzRlMTQ1JykpLnZhbHVlWzBdKS50by5iZS5lcWwoJzAuMTIzNGUxNDUnKTtcbiAgICAgICAgICAgIGV4cGVjdChqTnVtYmVyU3RyaW5nUC5ydW4odGV4dCgnLTAuMTIzNGUtMTQ1JykpLnZhbHVlWzBdKS50by5iZS5lcWwoJy0wLjEyMzRlLTE0NScpO1xuICAgICAgICAgICAgZXhwZWN0KGpOdW1iZXJTdHJpbmdQLnJ1bih0ZXh0KCcxMjMnKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnMTIzJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJzEyMy4xMicpKS52YWx1ZVswXSkudG8uYmUuZXFsKCcxMjMuMTInKTtcbiAgICAgICAgICAgIGV4cGVjdChqTnVtYmVyU3RyaW5nUC5ydW4odGV4dCgnLTEyMycpKS52YWx1ZVswXSkudG8uYmUuZXFsKCctMTIzJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJy0xMjMuMTInKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnLTEyMy4xMicpO1xuICAgICAgICAgICAgZXhwZWN0KGpOdW1iZXJTdHJpbmdQLnJ1bih0ZXh0KCcxMjNlMicpKS52YWx1ZVswXSkudG8uYmUuZXFsKCcxMjNlMicpO1xuICAgICAgICAgICAgZXhwZWN0KGpOdW1iZXJTdHJpbmdQLnJ1bih0ZXh0KCctMTIzZTInKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnLTEyM2UyJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJy0xMjNlLTInKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnLTEyM2UtMicpO1xuICAgICAgICAgICAgZXhwZWN0KGpOdW1iZXJTdHJpbmdQLnJ1bih0ZXh0KCctMTIzLjIzNGUtMicpKS52YWx1ZVswXSkudG8uYmUuZXFsKCctMTIzLjIzNGUtMicpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3BhcnNlcyBzdHJpbmdzIGFuZCByZXR1cm5zIEpOdW1iZXJcXCdzJywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KEpOdW1iZXJQLnJ1bih0ZXh0KCcwJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoMCk7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJzAuMScpKS52YWx1ZVswXS52YWx1ZSkudG8uYmUuZXFsKDAuMSk7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJy0wJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoLTApO1xuICAgICAgICAgICAgZXhwZWN0KEpOdW1iZXJQLnJ1bih0ZXh0KCctMC4xJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoLTAuMSk7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJzAuMTIzNGUxNDUnKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgwLjEyMzRlMTQ1KTtcbiAgICAgICAgICAgIGV4cGVjdChKTnVtYmVyUC5ydW4odGV4dCgnLTAuMTIzNGUtMTQ1JykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoLTAuMTIzNGUtMTQ1KTtcbiAgICAgICAgICAgIGV4cGVjdChKTnVtYmVyUC5ydW4odGV4dCgnMTIzJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoMTIzKTtcbiAgICAgICAgICAgIGV4cGVjdChKTnVtYmVyUC5ydW4odGV4dCgnMTIzLjEyJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoMTIzLjEyKTtcbiAgICAgICAgICAgIGV4cGVjdChKTnVtYmVyUC5ydW4odGV4dCgnLTEyMycpKS52YWx1ZVswXS52YWx1ZSkudG8uYmUuZXFsKC0xMjMpO1xuICAgICAgICAgICAgZXhwZWN0KEpOdW1iZXJQLnJ1bih0ZXh0KCctMTIzLjEyJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoLTEyMy4xMik7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJzEyM2UyJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoMTIzZTIpO1xuICAgICAgICAgICAgZXhwZWN0KEpOdW1iZXJQLnJ1bih0ZXh0KCctMTIzZTInKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgtMTIzZTIpO1xuICAgICAgICAgICAgZXhwZWN0KEpOdW1iZXJQLnJ1bih0ZXh0KCctMTIzZS0yJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoLTEyM2UtMik7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJy0xMjMuMjM0ZS0yJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoLTEyMy4yMzRlLTIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZSgnYSBwYXJzZXIgZm9yIGFycmF5cyBkaXNjYXJkcyBzcXVhcmUgYnJhY2tldHMnLCAoKSA9PiB7XG4gICAgICAgIGRlc2NyaWJlKCdhbmQgZGlzdGlsbHMgaW50byBKVmFsdWUuSkFycmF5XFwncycsICgpID0+IHtcbiAgICAgICAgICAgIGl0KCdub3RoaW5nIGlmIHRoYXRcXCdzIHRoZSBjYXNlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGphcnJhID0gJ1tdJztcbiAgICAgICAgICAgICAgICBjb25zdCBydW4gPSBKQXJyYXlQLnJ1bih0ZXh0KGphcnJhKSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHJ1bi5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXS5pc0pBcnJheSkudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoJ251bGxzIGFuZCBib29scycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBqYXJyYSA9ICdbdHJ1ZSAsICAgZmFsc2UgLCBudWxsLCAgICAgIHRydWVdJztcbiAgICAgICAgICAgICAgICBjb25zdCBydW4gPSBKQXJyYXlQLnJ1bih0ZXh0KGphcnJhKSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHJ1bi5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXS5pc0pBcnJheSkudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuIl19