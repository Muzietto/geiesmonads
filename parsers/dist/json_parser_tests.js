define(['chai', 'json_parsers', 'classes'], function (_chai, _json_parsers, _classes) {
    'use strict';

    var text = _classes.Position.fromText;

    describe('building a JSON parser', function () {
        describe('a parser for JNull\'s', function () {
            it('parses the string \'null\' and returns a JValue.JNull', function () {
                var run = _json_parsers.JNullP.run('null');
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJNull).to.be.true;
                (0, _chai.expect)(_json_parsers.JNullP.run('nulx').isFailure).to.be.true;
            });
        });
        describe('a parser for JBool\'s', function () {
            it('parses the string \'true\' and returns a JValue.JBool(true)', function () {
                var run = _json_parsers.JBoolP.run('true');
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJBool).to.be.true;
                (0, _chai.expect)(run.value[0].value).to.be.true;
            });
            it('parses the string \'false\' and returns a JValue.JBool(false)', function () {
                var run = _json_parsers.JBoolP.run('false');
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJBool).to.be.true;
                (0, _chai.expect)(run.value[0].value).to.be.false;
            });
            it('fails to parse anything else', function () {
                (0, _chai.expect)(_json_parsers.JBoolP.run('trux').isFailure).to.be.true;
            });
        });
        describe('a parser for JSON unescaped chars', function () {
            it('parses an unescaped character and returns a Success', function () {
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('a')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('A')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('1')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('"')).isFailure).to.be.true;
                (0, _chai.expect)(_json_parsers.jUnescapedCharP.run(text('\\')).isFailure).to.be.true;
            });
        });
        describe('a parser for JSON escaped chars', function () {
            it('parses an escaped character and returns a Success', function () {
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('\b')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('\f')).isSuccess).to.be.true;
                //            expect(jEscapedCharP.run(text('\n')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('\r')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('\t')).isSuccess).to.be.true;
                (0, _chai.expect)(_json_parsers.jEscapedCharP.run(text('a')).isFailure).to.be.true;
            });
        });
        describe('a parser for escaped 4-digits unicode chars', function () {
            it('parses an escaped character and returns a Success', function () {
                var run = _json_parsers.jUnicodeCharP.run(text('\\u1a2e'));
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0]).to.be.eql(6702);
                (0, _chai.expect)(_json_parsers.jUnicodeCharP.run(text('\\u0010')).value[0]).to.be.eql(16);
                (0, _chai.expect)(_json_parsers.jUnicodeCharP.run(text('\\u000F')).value[0]).to.be.eql(15);
            });
        });
        describe('a parser for doublequoted JSON strings', function () {
            it('parses a lot of characters and returns a JValue.JString', function () {
                var run = _json_parsers.JStringP.run(text('\"test string\"')); // works also with unescaped doublequotes
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJString).to.be.true;
                (0, _chai.expect)(run.value[0].value).to.be.eql('test string');
            });
            it('handles unicodes very roughly, and no escaped chars yet...', function () {
                var run = _json_parsers.JStringP.run(text('"test \\u0010 string"'));
                (0, _chai.expect)(run.isSuccess).to.be.true;
                (0, _chai.expect)(run.value[0].isJString).to.be.true;
                (0, _chai.expect)(run.value[0].value).to.be.eql('test 16 string');
            });
        });
        describe('a parser for numbers inside JSON files', function () {
            it('parses strings and returns Success\'es', function () {
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('0')).value[0]).to.be.eql('0');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('0.1')).value[0]).to.be.eql('0.1');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-0')).value[0]).to.be.eql('-0');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-0.1')).value[0]).to.be.eql('-0.1');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('0.1234e145')).value[0]).to.be.eql('0.1234e145');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-0.1234e-145')).value[0]).to.be.eql('-0.1234e-145');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('123')).value[0]).to.be.eql('123');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('123.12')).value[0]).to.be.eql('123.12');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123')).value[0]).to.be.eql('-123');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123.12')).value[0]).to.be.eql('-123.12');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('123e2')).value[0]).to.be.eql('123e2');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123e2')).value[0]).to.be.eql('-123e2');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123e-2')).value[0]).to.be.eql('-123e-2');
                (0, _chai.expect)(_json_parsers.jNumberStringP.run(text('-123.234e-2')).value[0]).to.be.eql('-123.234e-2');
            });
            it('parses strings and returns JNumber\'s', function () {
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('0')).value[0].value).to.be.eql(0);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('0.1')).value[0].value).to.be.eql(0.1);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-0')).value[0].value).to.be.eql(-0);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-0.1')).value[0].value).to.be.eql(-0.1);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('0.1234e145')).value[0].value).to.be.eql(0.1234e145);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-0.1234e-145')).value[0].value).to.be.eql(-0.1234e-145);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('123')).value[0].value).to.be.eql(123);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('123.12')).value[0].value).to.be.eql(123.12);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123')).value[0].value).to.be.eql(-123);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123.12')).value[0].value).to.be.eql(-123.12);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('123e2')).value[0].value).to.be.eql(123e2);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123e2')).value[0].value).to.be.eql(-123e2);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123e-2')).value[0].value).to.be.eql(-123e-2);
                (0, _chai.expect)(_json_parsers.JNumberP.run(text('-123.234e-2')).value[0].value).to.be.eql(-123.234e-2);
            });
        });
        describe('a parser for arrays discards square brackets', function () {
            describe('and distills into JValue.JArray\'s', function () {
                it('nothing if that\'s the case', function () {
                    var jarra = '[]';
                    var run = _json_parsers.JArrayP.run(text(jarra));
                    (0, _chai.expect)(run.isSuccess).to.be.true;
                    (0, _chai.expect)(run.value[0].isJArray).to.be.true;
                });
                it('nulls and bools', function () {
                    var jarra = '[true ,   false , null,      true]';
                    var run = _json_parsers.JArrayP.run(text(jarra));
                    (0, _chai.expect)(run.isSuccess).to.be.true;
                    (0, _chai.expect)(run.value[0].isJArray).to.be.true;
                });
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2pzLXNwZWMvanNvbl9wYXJzZXJfdGVzdHMuanMiXSwibmFtZXMiOlsidGV4dCIsImZyb21UZXh0IiwiZGVzY3JpYmUiLCJpdCIsInJ1biIsImlzU3VjY2VzcyIsInRvIiwiYmUiLCJ0cnVlIiwidmFsdWUiLCJpc0pOdWxsIiwiaXNGYWlsdXJlIiwiaXNKQm9vbCIsImZhbHNlIiwiZXFsIiwiaXNKU3RyaW5nIiwiamFycmEiLCJpc0pBcnJheSJdLCJtYXBwaW5ncyI6Ijs7O0FBZ0JBLFFBQU1BLE9BQU8sa0JBQVNDLFFBQXRCOztBQUVBQyxhQUFTLHdCQUFULEVBQW1DLFlBQU07QUFDckNBLGlCQUFTLHVCQUFULEVBQWtDLFlBQU07QUFDcENDLGVBQUcsdURBQUgsRUFBNEQsWUFBTTtBQUM5RCxvQkFBTUMsTUFBTSxxQkFBT0EsR0FBUCxDQUFXLE1BQVgsQ0FBWjtBQUNBLGtDQUFPQSxJQUFJQyxTQUFYLEVBQXNCQyxFQUF0QixDQUF5QkMsRUFBekIsQ0FBNEJDLElBQTVCO0FBQ0Esa0NBQU9KLElBQUlLLEtBQUosQ0FBVSxDQUFWLEVBQWFDLE9BQXBCLEVBQTZCSixFQUE3QixDQUFnQ0MsRUFBaEMsQ0FBbUNDLElBQW5DO0FBQ0Esa0NBQU8scUJBQU9KLEdBQVAsQ0FBVyxNQUFYLEVBQW1CTyxTQUExQixFQUFxQ0wsRUFBckMsQ0FBd0NDLEVBQXhDLENBQTJDQyxJQUEzQztBQUNILGFBTEQ7QUFNSCxTQVBEO0FBUUFOLGlCQUFTLHVCQUFULEVBQWtDLFlBQU07QUFDcENDLGVBQUcsNkRBQUgsRUFBa0UsWUFBTTtBQUNwRSxvQkFBTUMsTUFBTSxxQkFBT0EsR0FBUCxDQUFXLE1BQVgsQ0FBWjtBQUNBLGtDQUFPQSxJQUFJQyxTQUFYLEVBQXNCQyxFQUF0QixDQUF5QkMsRUFBekIsQ0FBNEJDLElBQTVCO0FBQ0Esa0NBQU9KLElBQUlLLEtBQUosQ0FBVSxDQUFWLEVBQWFHLE9BQXBCLEVBQTZCTixFQUE3QixDQUFnQ0MsRUFBaEMsQ0FBbUNDLElBQW5D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QVo7QUFDQSxzQ0FBT1osSUFBSUMsU0FBWCxFQUFzQkMsRUFBdEIsQ0FBeUJDLEVBQXpCLENBQTRCQyxJQUE1QjtBQUNBLHNDQUFPSixJQUFJSyxLQUFKLENBQVUsQ0FBVixFQUFhUSxRQUFwQixFQUE4QlgsRUFBOUIsQ0FBaUNDLEVBQWpDLENBQW9DQyxJQUFwQztBQUNILGlCQUxEO0FBTUgsYUFiRDtBQWNILFNBZkQ7QUFnQkgsS0F0SEQiLCJmaWxlIjoianNvbl9wYXJzZXJfdGVzdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2V4cGVjdH0gZnJvbSAnY2hhaSc7XG5pbXBvcnQge1xuICAgIEpOdWxsUCxcbiAgICBKQm9vbFAsXG4gICAgalVuZXNjYXBlZENoYXJQLFxuICAgIGpFc2NhcGVkQ2hhclAsXG4gICAgalVuaWNvZGVDaGFyUCxcbiAgICBKU3RyaW5nUCxcbiAgICBqTnVtYmVyU3RyaW5nUCxcbiAgICBKTnVtYmVyUCxcbiAgICBKQXJyYXlQLFxufSBmcm9tICdqc29uX3BhcnNlcnMnO1xuaW1wb3J0IHtcbiAgICBQb3NpdGlvbixcbn0gZnJvbSAnY2xhc3Nlcyc7XG5cbmNvbnN0IHRleHQgPSBQb3NpdGlvbi5mcm9tVGV4dDtcblxuZGVzY3JpYmUoJ2J1aWxkaW5nIGEgSlNPTiBwYXJzZXInLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ2EgcGFyc2VyIGZvciBKTnVsbFxcJ3MnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdwYXJzZXMgdGhlIHN0cmluZyBcXCdudWxsXFwnIGFuZCByZXR1cm5zIGEgSlZhbHVlLkpOdWxsJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcnVuID0gSk51bGxQLnJ1bignbnVsbCcpO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QocnVuLnZhbHVlWzBdLmlzSk51bGwpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QoSk51bGxQLnJ1bignbnVseCcpLmlzRmFpbHVyZSkudG8uYmUudHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgZGVzY3JpYmUoJ2EgcGFyc2VyIGZvciBKQm9vbFxcJ3MnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdwYXJzZXMgdGhlIHN0cmluZyBcXCd0cnVlXFwnIGFuZCByZXR1cm5zIGEgSlZhbHVlLkpCb29sKHRydWUpJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcnVuID0gSkJvb2xQLnJ1bigndHJ1ZScpO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QocnVuLnZhbHVlWzBdLmlzSkJvb2wpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QocnVuLnZhbHVlWzBdLnZhbHVlKS50by5iZS50cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3BhcnNlcyB0aGUgc3RyaW5nIFxcJ2ZhbHNlXFwnIGFuZCByZXR1cm5zIGEgSlZhbHVlLkpCb29sKGZhbHNlKScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJ1biA9IEpCb29sUC5ydW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgICBleHBlY3QocnVuLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChydW4udmFsdWVbMF0uaXNKQm9vbCkudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChydW4udmFsdWVbMF0udmFsdWUpLnRvLmJlLmZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ2ZhaWxzIHRvIHBhcnNlIGFueXRoaW5nIGVsc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoSkJvb2xQLnJ1bigndHJ1eCcpLmlzRmFpbHVyZSkudG8uYmUudHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgZGVzY3JpYmUoJ2EgcGFyc2VyIGZvciBKU09OIHVuZXNjYXBlZCBjaGFycycsICgpID0+IHtcbiAgICAgICAgaXQoJ3BhcnNlcyBhbiB1bmVzY2FwZWQgY2hhcmFjdGVyIGFuZCByZXR1cm5zIGEgU3VjY2VzcycsICgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChqVW5lc2NhcGVkQ2hhclAucnVuKHRleHQoJ2EnKSkuaXNTdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KGpVbmVzY2FwZWRDaGFyUC5ydW4odGV4dCgnQScpKS5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QoalVuZXNjYXBlZENoYXJQLnJ1bih0ZXh0KCcxJykpLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChqVW5lc2NhcGVkQ2hhclAucnVuKHRleHQoJ1wiJykpLmlzRmFpbHVyZSkudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChqVW5lc2NhcGVkQ2hhclAucnVuKHRleHQoJ1xcXFwnKSkuaXNGYWlsdXJlKS50by5iZS50cnVlO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZSgnYSBwYXJzZXIgZm9yIEpTT04gZXNjYXBlZCBjaGFycycsICgpID0+IHtcbiAgICAgICAgaXQoJ3BhcnNlcyBhbiBlc2NhcGVkIGNoYXJhY3RlciBhbmQgcmV0dXJucyBhIFN1Y2Nlc3MnLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoakVzY2FwZWRDaGFyUC5ydW4odGV4dCgnXFxiJykpLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChqRXNjYXBlZENoYXJQLnJ1bih0ZXh0KCdcXGYnKSkuaXNTdWNjZXNzKS50by5iZS50cnVlO1xuLy8gICAgICAgICAgICBleHBlY3QoakVzY2FwZWRDaGFyUC5ydW4odGV4dCgnXFxuJykpLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgIGV4cGVjdChqRXNjYXBlZENoYXJQLnJ1bih0ZXh0KCdcXHInKSkuaXNTdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KGpFc2NhcGVkQ2hhclAucnVuKHRleHQoJ1xcdCcpKS5pc1N1Y2Nlc3MpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QoakVzY2FwZWRDaGFyUC5ydW4odGV4dCgnYScpKS5pc0ZhaWx1cmUpLnRvLmJlLnRydWU7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKCdhIHBhcnNlciBmb3IgZXNjYXBlZCA0LWRpZ2l0cyB1bmljb2RlIGNoYXJzJywgKCkgPT4ge1xuICAgICAgICBpdCgncGFyc2VzIGFuIGVzY2FwZWQgY2hhcmFjdGVyIGFuZCByZXR1cm5zIGEgU3VjY2VzcycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJ1biA9IGpVbmljb2RlQ2hhclAucnVuKHRleHQoJ1xcXFx1MWEyZScpKTtcbiAgICAgICAgICAgIGV4cGVjdChydW4uaXNTdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXSkudG8uYmUuZXFsKDY3MDIpO1xuICAgICAgICAgICAgZXhwZWN0KGpVbmljb2RlQ2hhclAucnVuKHRleHQoJ1xcXFx1MDAxMCcpKS52YWx1ZVswXSkudG8uYmUuZXFsKDE2KTtcbiAgICAgICAgICAgIGV4cGVjdChqVW5pY29kZUNoYXJQLnJ1bih0ZXh0KCdcXFxcdTAwMEYnKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgxNSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKCdhIHBhcnNlciBmb3IgZG91YmxlcXVvdGVkIEpTT04gc3RyaW5ncycsICgpID0+IHtcbiAgICAgICAgaXQoJ3BhcnNlcyBhIGxvdCBvZiBjaGFyYWN0ZXJzIGFuZCByZXR1cm5zIGEgSlZhbHVlLkpTdHJpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW4gPSBKU3RyaW5nUC5ydW4odGV4dCgnXFxcInRlc3Qgc3RyaW5nXFxcIicpKTsgLy8gd29ya3MgYWxzbyB3aXRoIHVuZXNjYXBlZCBkb3VibGVxdW90ZXNcbiAgICAgICAgICAgIGV4cGVjdChydW4uaXNTdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXS5pc0pTdHJpbmcpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QocnVuLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoJ3Rlc3Qgc3RyaW5nJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnaGFuZGxlcyB1bmljb2RlcyB2ZXJ5IHJvdWdobHksIGFuZCBubyBlc2NhcGVkIGNoYXJzIHlldC4uLicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJ1biA9IEpTdHJpbmdQLnJ1bih0ZXh0KCdcXFwidGVzdCBcXFxcdTAwMTAgc3RyaW5nXFxcIicpKTtcbiAgICAgICAgICAgIGV4cGVjdChydW4uaXNTdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgICAgICAgZXhwZWN0KHJ1bi52YWx1ZVswXS5pc0pTdHJpbmcpLnRvLmJlLnRydWU7XG4gICAgICAgICAgICBleHBlY3QocnVuLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoJ3Rlc3QgMTYgc3RyaW5nJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKCdhIHBhcnNlciBmb3IgbnVtYmVycyBpbnNpZGUgSlNPTiBmaWxlcycsICgpID0+IHtcbiAgICAgICAgaXQoJ3BhcnNlcyBzdHJpbmdzIGFuZCByZXR1cm5zIFN1Y2Nlc3NcXCdlcycsICgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChqTnVtYmVyU3RyaW5nUC5ydW4odGV4dCgnMCcpKS52YWx1ZVswXSkudG8uYmUuZXFsKCcwJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJzAuMScpKS52YWx1ZVswXSkudG8uYmUuZXFsKCcwLjEnKTtcbiAgICAgICAgICAgIGV4cGVjdChqTnVtYmVyU3RyaW5nUC5ydW4odGV4dCgnLTAnKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnLTAnKTtcbiAgICAgICAgICAgIGV4cGVjdChqTnVtYmVyU3RyaW5nUC5ydW4odGV4dCgnLTAuMScpKS52YWx1ZVswXSkudG8uYmUuZXFsKCctMC4xJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJzAuMTIzNGUxNDUnKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnMC4xMjM0ZTE0NScpO1xuICAgICAgICAgICAgZXhwZWN0KGpOdW1iZXJTdHJpbmdQLnJ1bih0ZXh0KCctMC4xMjM0ZS0xNDUnKSkudmFsdWVbMF0pLnRvLmJlLmVxbCgnLTAuMTIzNGUtMTQ1Jyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJzEyMycpKS52YWx1ZVswXSkudG8uYmUuZXFsKCcxMjMnKTtcbiAgICAgICAgICAgIGV4cGVjdChqTnVtYmVyU3RyaW5nUC5ydW4odGV4dCgnMTIzLjEyJykpLnZhbHVlWzBdKS50by5iZS5lcWwoJzEyMy4xMicpO1xuICAgICAgICAgICAgZXhwZWN0KGpOdW1iZXJTdHJpbmdQLnJ1bih0ZXh0KCctMTIzJykpLnZhbHVlWzBdKS50by5iZS5lcWwoJy0xMjMnKTtcbiAgICAgICAgICAgIGV4cGVjdChqTnVtYmVyU3RyaW5nUC5ydW4odGV4dCgnLTEyMy4xMicpKS52YWx1ZVswXSkudG8uYmUuZXFsKCctMTIzLjEyJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJzEyM2UyJykpLnZhbHVlWzBdKS50by5iZS5lcWwoJzEyM2UyJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJy0xMjNlMicpKS52YWx1ZVswXSkudG8uYmUuZXFsKCctMTIzZTInKTtcbiAgICAgICAgICAgIGV4cGVjdChqTnVtYmVyU3RyaW5nUC5ydW4odGV4dCgnLTEyM2UtMicpKS52YWx1ZVswXSkudG8uYmUuZXFsKCctMTIzZS0yJyk7XG4gICAgICAgICAgICBleHBlY3Qoak51bWJlclN0cmluZ1AucnVuKHRleHQoJy0xMjMuMjM0ZS0yJykpLnZhbHVlWzBdKS50by5iZS5lcWwoJy0xMjMuMjM0ZS0yJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgncGFyc2VzIHN0cmluZ3MgYW5kIHJldHVybnMgSk51bWJlclxcJ3MnLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJzAnKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgwKTtcbiAgICAgICAgICAgIGV4cGVjdChKTnVtYmVyUC5ydW4odGV4dCgnMC4xJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoMC4xKTtcbiAgICAgICAgICAgIGV4cGVjdChKTnVtYmVyUC5ydW4odGV4dCgnLTAnKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgtMCk7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJy0wLjEnKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgtMC4xKTtcbiAgICAgICAgICAgIGV4cGVjdChKTnVtYmVyUC5ydW4odGV4dCgnMC4xMjM0ZTE0NScpKS52YWx1ZVswXS52YWx1ZSkudG8uYmUuZXFsKDAuMTIzNGUxNDUpO1xuICAgICAgICAgICAgZXhwZWN0KEpOdW1iZXJQLnJ1bih0ZXh0KCctMC4xMjM0ZS0xNDUnKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgtMC4xMjM0ZS0xNDUpO1xuICAgICAgICAgICAgZXhwZWN0KEpOdW1iZXJQLnJ1bih0ZXh0KCcxMjMnKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgxMjMpO1xuICAgICAgICAgICAgZXhwZWN0KEpOdW1iZXJQLnJ1bih0ZXh0KCcxMjMuMTInKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgxMjMuMTIpO1xuICAgICAgICAgICAgZXhwZWN0KEpOdW1iZXJQLnJ1bih0ZXh0KCctMTIzJykpLnZhbHVlWzBdLnZhbHVlKS50by5iZS5lcWwoLTEyMyk7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJy0xMjMuMTInKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgtMTIzLjEyKTtcbiAgICAgICAgICAgIGV4cGVjdChKTnVtYmVyUC5ydW4odGV4dCgnMTIzZTInKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgxMjNlMik7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJy0xMjNlMicpKS52YWx1ZVswXS52YWx1ZSkudG8uYmUuZXFsKC0xMjNlMik7XG4gICAgICAgICAgICBleHBlY3QoSk51bWJlclAucnVuKHRleHQoJy0xMjNlLTInKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgtMTIzZS0yKTtcbiAgICAgICAgICAgIGV4cGVjdChKTnVtYmVyUC5ydW4odGV4dCgnLTEyMy4yMzRlLTInKSkudmFsdWVbMF0udmFsdWUpLnRvLmJlLmVxbCgtMTIzLjIzNGUtMik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKCdhIHBhcnNlciBmb3IgYXJyYXlzIGRpc2NhcmRzIHNxdWFyZSBicmFja2V0cycsICgpID0+IHtcbiAgICAgICAgZGVzY3JpYmUoJ2FuZCBkaXN0aWxscyBpbnRvIEpWYWx1ZS5KQXJyYXlcXCdzJywgKCkgPT4ge1xuICAgICAgICAgICAgaXQoJ25vdGhpbmcgaWYgdGhhdFxcJ3MgdGhlIGNhc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgamFycmEgPSAnW10nO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJ1biA9IEpBcnJheVAucnVuKHRleHQoamFycmEpKTtcbiAgICAgICAgICAgICAgICBleHBlY3QocnVuLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgICAgICBleHBlY3QocnVuLnZhbHVlWzBdLmlzSkFycmF5KS50by5iZS50cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdCgnbnVsbHMgYW5kIGJvb2xzJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGphcnJhID0gJ1t0cnVlICwgICBmYWxzZSAsIG51bGwsICAgICAgdHJ1ZV0nO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJ1biA9IEpBcnJheVAucnVuKHRleHQoamFycmEpKTtcbiAgICAgICAgICAgICAgICBleHBlY3QocnVuLmlzU3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgICAgICAgICAgICBleHBlY3QocnVuLnZhbHVlWzBdLmlzSkFycmF5KS50by5iZS50cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXX0=